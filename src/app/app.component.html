<h3>Movies</h3>
<hr />
<ng-container *ngIf="movies$ | async as movies">
  <ul *ngIf="!movies.errorMessage; else errorMessage">
    <li *ngFor="let movie of movies.list; let i = index">
      <span>{{ i + 1 }}. {{ movie.name }}</span>
      <button
        (click)="addToCollection(movie)"
        [ngStyle]="{ marginInline: '5px 0', cursor: 'pointer' }"
      >
        Add
      </button>
    </li>
  </ul>
  <ng-template #errorMessage>{{ movies.errorMessage }}</ng-template>
</ng-container>

<br />
<h3>Collection</h3>
<hr />
<ng-container *ngIf="collection$ | async as collection">
  <ul *ngIf="collection.length; else empty">
    <li *ngFor="let movie of collection; let j = index">
      <span>{{ j + 1 }}. {{ movie.name }}</span>
      <button
        (click)="removeFromCollection(movie.id)"
        [ngStyle]="{ marginInline: '5px 0', cursor: 'pointer' }"
      >
        Remove
      </button>
    </li>
  </ul>
</ng-container>
<ng-template #empty>
  <p>Empty</p>
</ng-template>
